var $jscomp={scope:{},inherits:function(d,a){function c(){}c.prototype=a.prototype;d.prototype=new c;d.prototype.constructor=d;for(var e in a)if(Object.defineProperties){var f=Object.getOwnPropertyDescriptor(a,e);f&&Object.defineProperty(d,e,f)}else d[e]=a[e]}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(d,a,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");d!=Array.prototype&&d!=Object.prototype&&(d[a]=c.value)};
$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(d,a,c,e){if(a){c=$jscomp.global;d=d.split(".");for(e=0;e<d.length-1;e++){var f=d[e];f in c||(c[f]={});c=c[f]}d=d[d.length-1];e=c[d];a=a(e);a!=e&&null!=a&&$jscomp.defineProperty(c,d,{configurable:!0,writable:!0,value:a})}};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(d){return $jscomp.SYMBOL_PREFIX+(d||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.iterator;d||(d=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[d]&&$jscomp.defineProperty(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(d){var a=0;return $jscomp.iteratorPrototype(function(){return a<d.length?{done:!1,value:d[a++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(d){$jscomp.initSymbolIterator();d={next:d};d[$jscomp.global.Symbol.iterator]=function(){return this};return d};$jscomp.array=$jscomp.array||{};$jscomp.iteratorFromArray=function(d,a){$jscomp.initSymbolIterator();d instanceof String&&(d+="");var c=0,e={next:function(){if(c<d.length){var f=c++;return{value:a(f,d[f]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e};
$jscomp.polyfill("Array.prototype.entries",function(d){return d?d:function(){return $jscomp.iteratorFromArray(this,function(a,c){return[a,c]})}},"es6-impl","es3");$jscomp.findInternal=function(d,a,c){d instanceof String&&(d=String(d));for(var e=d.length,f=0;f<e;f++){var b=d[f];if(a.call(c,b,f,d))return{i:f,v:b}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(d){return d?d:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6-impl","es3");
(function(d){function a(e){if(c[e])return c[e].exports;var f=c[e]={exports:{},id:e,loaded:!1};d[e].call(f.exports,f,f.exports,a);f.loaded=!0;return f.exports}var c={};a.m=d;a.c=c;a.p="";return a(0)})([function(d,a,c){d.exports=c(1)},function(d,a,c){var e=c(2);"undefined"!==typeof performance&&"undefined"!==typeof performance.now&&performance.now.bind(performance);d=function(){e.call(this)};$jscomp.inherits(d,e);d.prototype.init=function(a){a()};d.prototype.flush=function(a){a()};d.prototype.close=
function(){};d.prototype.receiveInput=function(a,b){this.time(function(){this.queueData(a)}.bind(this));b()};window&&(window.OGVDemuxerWebM=d);self&&(self.OGVDemuxerWebM=d)},function(d,a,c){var e=c(3),f=c(6),b=c(8),g=c(9),h=c(10),m=c(13),n=c(4),l=c(15),k;k="undefined"===typeof performance||"undefined"===typeof performance.now?Date.now:performance.now.bind(performance);a=function(){this.shown=!1;this.clusters=[];this.segmentInfo=[];this.state=0;this.videoPackets=[];this.audioPackets=[];this.loadedMetadata=
!1;this.seekable=!0;this.dataInterface=new e;this.currentElement=this.segment=null;this.segmentIsLoaded=!1;this.segmentDataOffset;this.headerIsLoaded=!1;this.tempElementHeader=new n(-1,-1,-1,-1);this.tempElementHeader.reset();this.currentCluster=this.tracks=this.segmentInfo=this.currentElement=null;this.cpuTime=0;this.seekHead=null;this.isSeeking=this.cuesLoaded=!1;this.tempSeekPosition=-1;this.loadingCues=!1;this.seekCueTarget=null;this.eof=!1;this.audioTrack=this.videoTrack=this.audioFormat=this.videoCodec=
this.audioFormat=this.videoFormat=null;Object.defineProperty(this,"duration",{get:function(){return 0>this.segmentInfo.duration?-1:this.segmentInfo.duration/1E3}});Object.defineProperty(this,"frameReady",{get:function(){return 0<this.videoPackets.length}});Object.defineProperty(this,"hasAudio",{get:function(){return this.loadedMetadata&&this.audioCodec?!0:!1}});Object.defineProperty(this,"audioReady",{get:function(){return 0<this.audioPackets.length}});Object.defineProperty(this,"audioTimestamp",
{get:function(){return 0<this.audioPackets.length?this.audioPackets[0].timestamp:-1}});Object.defineProperty(this,"frameTimestamp",{get:function(){return 0<this.videoPackets.length?this.videoPackets[0].timestamp:-1}});Object.defineProperty(this,"keyframeTimestamp",{get:function(){return 0<this.videoPackets.length?this.videoPackets[0].keyframeTimestamp:-1}});Object.defineProperty(this,"hasVideo",{get:function(){return this.loadedMetadata&&this.videoCodec?!0:!1}});Object.defineProperty(this,"nextKeyframeTimestamp",
{get:function(){throw"looking for kf timestamp";}});console.log("%c JSWEBM DEMUXER LOADED","background: #F27127; color:  #2a2a2a")};a.prototype.time=function(b){var a=k();b=b();a=k()-a;this.cpuTime+=a;return b};a.prototype.validateMetadata=function(){var b,a,c;for(c in this.tracks.trackEntries){var e=this.tracks.trackEntries[c];if(2===e.trackType){a=e;b=e.codecID;break}}this.audioTrack=a;switch(b){case "A_VORBIS":this.audioCodec="vorbis";this.initVorbisHeaders(a);break;default:this.audioCodec=null}for(c in this.tracks.trackEntries)if(e=
this.tracks.trackEntries[c],1===e.trackType){a=e;b=e.codecID;break}switch(b){case "V_VP8":this.videoCodec="vp8";break;default:this.videoCodec=null}this.videoTrack=a;this.videoFormat={width:a.width,height:a.height,chromaWidth:a.width>>1,chromaHeight:a.height>>1,cropLeft:a.pixelCropLeft,cropTop:a.pixelCropTop,cropWidth:a.width-a.pixelCropLeft-a.pixelCropRight,cropHeight:a.height-a.pixelCropTop-a.pixelCropBottom,displayWidth:a.displayWidth,displayHeight:a.displayHeight,fps:0};this.loadedMetadata=!0};
a.prototype.initVorbisHeaders=function(a){var b=new DataView(a.codecPrivate),c=b.getUint8(0),e=b.getUint8(1),d=b.getUint8(2),f=b.byteLength-e-d-1;if(2!==c)throw"INVALID VORBIS HEADER";c=3;e=c+e;this.audioPackets.push({data:b.buffer.slice(c,e),timestamp:-1});c=e;e=c+d;this.audioPackets.push({data:b.buffer.slice(c,e),timestamp:-1});c=e;this.audioPackets.push({data:b.buffer.slice(c,c+f),timestamp:-1});this.audioTrack=a};a.prototype.queueData=function(b){this.dataInterface.recieveInput(b)};a.prototype.demux=
function(){var b=!1;switch(this.state){case 0:if(this.initDemuxer(),1!==this.state)break;case 1:b=this.load();break;case 2:b=this.processSeeking()}return b};a.prototype.process=function(b){var a=k(),c=!1;switch(this.state){case 0:if(this.initDemuxer(),1!==this.state)break;case 1:c=this.load();break;case 2:console.warn("Seek processing");c=this.processSeeking();break;default:throw"state got wrecked";}a=k()-a;this.cpuTime+=a;b(!(1!==c&&!0!==c))};a.prototype.load=function(){for(var a=!1;this.dataInterface.offset<
this.segment.end;){if(!this.tempElementHeader.status&&(this.dataInterface.peekAndSetElement(this.tempElementHeader),!this.tempElementHeader.status))return null;switch(this.tempElementHeader.id){case 290298740:this.seekHead||(this.seekHead=new f(this.tempElementHeader.getData(),this.dataInterface));this.seekHead.load();if(!this.seekHead.loaded)return!1;break;case 236:if(this.dataInterface.peekBytes(this.tempElementHeader.size))this.dataInterface.skipBytes(this.tempElementHeader.size);else return!1;
break;case 357149030:this.segmentInfo||(this.segmentInfo=new b(this.tempElementHeader.getData(),this.dataInterface));this.segmentInfo.load();if(!this.segmentInfo.loaded)return!1;break;case 374648427:this.tracks||(this.tracks=new g(this.tempElementHeader.getData(),this.dataInterface,this));this.tracks.load();if(!this.tracks.loaded)return!1;break;case 475249515:this.cues||(this.cues=new m(this.tempElementHeader.getData(),this.dataInterface,this));this.cues.load();if(!this.cues.loaded)return!1;this.cuesLoaded=
!0;break;case 307544935:this.tags||(this.tags=new l(this.tempElementHeader.getData(),this.dataInterface,this));this.tags.load();if(!this.tags.loaded)return!1;break;case 524531317:if(!this.loadedMetadata)return this.validateMetadata(),!0;this.currentCluster||(this.currentCluster=new h(this.tempElementHeader.offset,this.tempElementHeader.size,this.tempElementHeader.end,this.tempElementHeader.dataOffset,this.dataInterface,this));a=this.currentCluster.load();if(!this.currentCluster.loaded)return a;this.currentCluster=
null;break;default:this.state=3;if(this.dataInterface.peekBytes(this.tempElementHeader.size))this.dataInterface.skipBytes(this.tempElementHeader.size);else return!1;console.log("UNSUPORTED ELEMENT FOUND, SKIPPING : "+this.tempElementHeader.id.toString(16))}this.tempElementHeader.reset()}this.eof=!0;this.state=4;return a};a.prototype.initDemuxer=function(){var b=this.dataInterface;if(!this.headerIsLoaded){if(!this.elementEBML){this.elementEBML=b.peekElement();if(!this.elementEBML)return null;440786851!==
this.elementEBML.id&&console.warn("INVALID PARSE, HEADER NOT LOCATED")}for(var a=this.elementEBML.end;b.offset<a;){if(!this.tempElementHeader.status&&(b.peekAndSetElement(this.tempElementHeader),!this.tempElementHeader.status))return null;switch(this.tempElementHeader.id){case 17030:var c=b.readUnsignedInt(this.tempElementHeader.size);if(null!==c)this.version=c;else return null;break;case 17143:c=b.readUnsignedInt(this.tempElementHeader.size);if(null!==c)this.readVersion=c;else return null;break;
case 17138:c=b.readUnsignedInt(this.tempElementHeader.size);if(null!==c)this.maxIdLength=c;else return null;break;case 17139:c=b.readUnsignedInt(this.tempElementHeader.size);if(null!==c)this.maxSizeLength=c;else return null;break;case 17026:c=b.readString(this.tempElementHeader.size);if(null!==c)this.docType=c;else return null;break;case 17031:c=b.readUnsignedInt(this.tempElementHeader.size);if(null!==c)this.docTypeVersion=c;else return null;break;case 17029:c=b.readUnsignedInt(this.tempElementHeader.size);
if(null!==c)this.docTypeReadVersion=c;else return null;break;case 191:c=b.getBinary(this.tempElementHeader.size);if(null!==c)c;else return null;break;default:console.warn("UNSUPORTED HEADER ELEMENT FOUND, SKIPPING : "+this.tempElementHeader.id.toString(16))}this.tempElementHeader.reset()}this.headerIsLoaded=!0}this.currentElement||(this.currentElement=this.dataInterface.peekElement());if(!this.currentElement)return null;switch(this.currentElement.id){case 408125543:this.segment=this.currentElement;
break;case 236:if(this.dataInterface.peekBytes(this.currentElement.size))this.dataInterface.skipBytes();else return null;break;default:console.warn("Global element not found, id: "+this.currentElement.id)}this.currentElement=null;this.segmentIsLoaded=!0;this.state=1};a.prototype.dequeueAudioPacket=function(b){if(this.audioPackets.length){var a=this.audioPackets.shift().data;b(a)}else b(null)};a.prototype.dequeueVideoPacket=function(b){if(this.videoPackets.length){var a=this.videoPackets.shift().data;
b(a)}else b(null)};a.prototype._flush=function(){this.audioPackets=[];this.videoPackets=[];this.dataInterface.flush();this.tempElementHeader=new n(-1,-1,-1,-1);this.tempElementHeader.reset();this.currentCluster=this.currentElement=null;this.eof=!1};a.prototype.getKeypointOffset=function(b,a){b=this.time(function(){return-1}.bind(this));a(b)};a.prototype.seekToKeypoint=function(b,a){this.state=2;console.warn("SEEK BEING CALLED");var c=this.time(function(){this.seekTime=1E9*b;if(this.hasVideo)this.seekTrack=
this.videoTrack;else if(this.hasAudio)this.seekTrack=this.audioTrack;else return 0;this.processSeeking();return 1}.bind(this));this.audioPackets=[];this.videoPackets=[];a(!!c)};a.prototype.processSeeking=function(){if(!this.cuesLoaded){if(!this.cuesOffset)return this.initCues(),this._flush(),this.dataInterface.offset=this.cuesOffset,this.onseek(this.cuesOffset),0;if(!this.currentElement&&(this.currentElement=this.dataInterface.peekElement(),null===this.currentElement))return 0;this.cues||(this.cues=
new m(this.currentElement,this.dataInterface,this));this.cues.load();if(!this.cues.loaded)return 0;this.cuesLoaded=!0;return 0}this.calculateKeypointOffset();var b=this.seekCueTarget.cueTrackPositions.cueClusterPosition+this.segment.dataOffset;this._flush();this.dataInterface.offset=b;this.onseek(b);this.state=1;return 0};a.prototype.initCues=function(){if(!this.cuesOffset)for(var b=this.seekHead.entries.length,a=this.seekHead.entries,c=0;c<b;c++)475249515===a[c].seekId&&(this.cuesOffset=a[c].seekPosition+
this.segment.dataOffset)};a.prototype.calculateKeypointOffset=function(){var b=this.segmentInfo.timecodeScale;this.seekTime;var a=this.cues.entries,c=this.cues.entries.length,e=a[0],d,f=1;for(f;f<c;f++){d=a[f];if(d.cueTime*b>this.seekTime)break;e=d}this.seekCueTarget=e};d.exports=a},function(d,a,c){var e=c(4),f=c(5);a=function(){this.internalPointer=this.overallPointer=0;this.currentBuffer=null;this.markerPointer=0;this.tempFloat64=new DataView(new ArrayBuffer(8));this.tempFloat32=new DataView(new ArrayBuffer(4));
this.tempBinaryBuffer=null;this.seekTarget;this.dateParser=new f;Object.defineProperty(this,"offset",{get:function(){return this.overallPointer},set:function(b){this.overallPointer=b}});this.tempOctet=this.tempOctetWidth=this.tempSize=this.tempElementDataOffset=this.tempElementOffset=null;this.tempByteCounter=this.tempByteBuffer=0;this.tempResult=this.tempVintWidth=this.tempElementSize=this.tempElementId=null;this.tempCounter=-1;this.usingBufferedRead=!1;Object.defineProperty(this,"remainingBytes",
{get:function(){return this.currentBuffer?this.currentBuffer.byteLength-this.internalPointer:0}})};a.prototype.flush=function(){this.tempOctet=this.tempOctetWidth=this.tempSize=this.tempElementDataOffset=this.tempElementOffset=this.currentBuffer=null;this.tempByteCounter=this.tempByteBuffer=0;this.tempResult=this.tempBinaryBuffer=this.tempVintWidth=this.tempElementSize=this.tempElementId=null;this.tempCounter=-1;this.usingBufferedRead=!1;this.internalPointer=this.overallPointer=0;this.tempFloat64=
new DataView(new ArrayBuffer(8));this.tempFloat32=new DataView(new ArrayBuffer(4))};a.prototype.recieveInput=function(b){if(this.currentBuffer)throw"Buffer getting wrecked";this.currentBuffer=new DataView(b);this.internalPointer=0};a.prototype.popBuffer=function(){this.currentBuffer=null};a.prototype.readDate=function(b){return this.readSignedInt(b)};a.prototype.readId=function(){if(!this.currentBuffer)return null;if(!this.tempOctet){if(!this.currentBuffer)return null;this.tempElementOffset=this.overallPointer;
this.tempOctet=this.currentBuffer.getUint8(this.internalPointer);this.incrementPointers();this.tempOctetWidth=this.calculateOctetWidth();0===this.remainingBytes&&(this.currentBuffer=null)}var b;this.tempByteCounter||(this.tempByteCounter=0);for(;this.tempByteCounter<this.tempOctetWidth;){if(!this.currentBuffer)return null;0===this.tempByteCounter?this.tempByteBuffer=this.tempOctet:(b=this.readByte(),this.tempByteBuffer=this.tempByteBuffer<<8|b);this.tempByteCounter++;0===this.remainingBytes&&(this.currentBuffer=
null)}b=this.tempByteBuffer;this.tempOctetWidth=this.tempByteBuffer=this.tempByteCounter=this.tempOctet=null;return b};a.prototype.readLacingSize=function(){var b=this.readVint();if(null===b)return null;switch(this.lastOctetWidth){case 1:b-=63;break;case 2:b-=8191;break;case 3:b-=1048575;break;case 4:b-=134217727}return b};a.prototype.readVint=function(){if(!this.currentBuffer)return null;if(!this.tempOctet){if(!this.currentBuffer)return null;this.tempOctet=this.currentBuffer.getUint8(this.internalPointer);
this.incrementPointers();this.tempOctetWidth=this.calculateOctetWidth();0===this.remainingBytes&&(this.currentBuffer=null)}this.tempByteCounter||(this.tempByteCounter=0);for(var b,a=this.tempOctetWidth;this.tempByteCounter<a;){if(!this.currentBuffer)return null;0===this.tempByteCounter?this.tempByteBuffer=this.tempOctet&(255<<a&255)>>a:(b=this.readByte(),this.tempByteBuffer=this.tempByteBuffer<<8|b);this.tempByteCounter++;0===this.remainingBytes&&(this.currentBuffer=null)}b=this.tempByteBuffer;this.tempOctet=
null;this.lastOctetWidth=this.tempOctetWidth;this.tempByteBuffer=this.tempByteCounter=this.tempOctetWidth=null;return b};a.prototype.bufferedReadVint=function(){var b;this.tempByteCounter||(this.tempByteCounter=0);for(;this.tempByteCounter<this.tempOctetWidth;){if(!this.currentBuffer)return null;0===this.tempByteCounter?this.tempByteBuffer=this.tempOctet&(255<<this.tempOctetWidth&255)>>this.tempOctetWidth:(b=this.readByte(),this.tempByteBuffer=this.tempByteBuffer<<8|b);this.tempByteCounter++;0===
this.remainingBytes&&(this.currentBuffer=null)}b=this.tempByteBuffer;this.tempByteBuffer=this.tempByteCounter=null;return b};a.prototype.clearTemps=function(){this.tempOctet=this.tempOctetWidth=this.tempOctetMask=this.tempSize=this.tempId=null;this.tempByteCounter=this.tempByteBuffer=0;this.usingBufferedRead=!1};a.prototype.forceReadVint=function(){var b;switch(this.tempOctetWidth){case 1:b=this.tempOctet&127;break;case 2:b=this.tempOctet&63;b=b<<8|this.currentBuffer.getUint8(this.internalPointer);
this.incrementPointers();break;case 3:b=this.tempOctet&31;b=b<<16|this.currentBuffer.getUint16(this.internalPointer);this.incrementPointers(2);break;case 4:b=this.tempOctet&15;b=b<<16|this.currentBuffer.getUint16(this.internalPointer);this.incrementPointers(2);b=b<<8|this.currentBuffer.getUint8(this.internalPointer);this.incrementPointers();break;case 5:console.warn("finish this");break;case 6:console.warn("finish this");break;case 7:console.warn("finish this");break;case 8:b=this.tempOctet&0,b=b<<
8|this.currentBuffer.getUint8(this.internalPointer),this.incrementPointers(),b=b<<16|this.currentBuffer.getUint16(this.internalPointer),this.incrementPointers(2),b=b<<32|this.currentBuffer.getUint32(this.internalPointer),this.incrementPointers(4)}0===this.remainingBytes&&(this.currentBuffer=null);this.tempOctet=this.tempOctetWidth=null;return b};a.prototype.readByte=function(){this.currentBuffer||console.error("READING OUT OF BOUNDS");var b=this.currentBuffer.getUint8(this.internalPointer);this.incrementPointers();
0===this.remainingBytes&&(this.currentBuffer=null);return b};a.prototype.readSignedByte=function(){this.currentBuffer||console.error("READING OUT OF BOUNDS");var b=this.currentBuffer.getInt8(this.internalPointer);this.incrementPointers();0===this.remainingBytes&&(this.currentBuffer=null);return b};a.prototype.peekElement=function(){if(!this.currentBuffer||!this.tempElementId&&(this.tempElementId=this.readId(),null===this.tempElementId)||!this.tempElementSize&&(this.tempElementSize=this.readVint(),
null===this.tempElementSize))return null;var b=new e(this.tempElementId,this.tempElementSize,this.tempElementOffset,this.overallPointer);this.tempElementOffset=this.tempElementSize=this.tempElementId=null;return b};a.prototype.peekAndSetElement=function(b){if(!this.currentBuffer||!this.tempElementId&&(this.tempElementId=this.readId(),null===this.tempElementId)||!this.tempElementSize&&(this.tempElementSize=this.readVint(),null===this.tempElementSize))return null;b.init(this.tempElementId,this.tempElementSize,
this.tempElementOffset,this.overallPointer);this.tempElementOffset=this.tempElementSize=this.tempElementId=null};a.prototype.peekBytes=function(b){return this.currentBuffer?0<=this.currentBuffer.byteLength-this.internalPointer-b?!0:!1:!1};a.prototype.skipBytes=function(b){for(var a,c=0;c<b;){if(!this.currentBuffer)throw"Invalid Skip Length";a=b-c>this.remainingBytes?this.remainingBytes:b-c;this.incrementPointers(a);0===this.remainingBytes&&(this.currentBuffer=null);c+=a}};a.prototype.getRemainingBytes=
function(){return this.currentBuffer?this.currentBuffer.byteLength-this.internalPointer:0};a.prototype.calculateOctetWidth=function(){var b=0,a=128;do{if(this.tempOctet&a)break;a>>=1;b++}while(8>b);return b+1};a.prototype.incrementPointers=function(b){b=b||1;this.internalPointer+=b;this.overallPointer+=b};a.prototype.readUnsignedInt=function(b){if(!this.currentBuffer)return null;(0>=b||8<b)&&console.warn("invalid file size");null===this.tempResult&&(this.tempResult=0);-1===this.tempCounter&&(this.tempCounter=
0);for(var a;this.tempCounter<b;){if(!this.currentBuffer)return null;a=this.readByte();0===this.tempCounter&&0>a&&console.warn("invalid integer value");this.tempResult<<=8;this.tempResult|=a;0===this.remainingBytes&&(this.currentBuffer=null);this.tempCounter++}b=this.tempResult;this.tempResult=null;this.tempCounter=-1;return b};a.prototype.readSignedInt=function(a){if(!this.currentBuffer)return null;(0>=a||8<a)&&console.warn("invalid file size");null===this.tempResult&&(this.tempResult=0);-1===this.tempCounter&&
(this.tempCounter=0);for(var b;this.tempCounter<a;){if(!this.currentBuffer)return null;b=0===this.tempCounter?this.readByte():this.readSignedByte();this.tempResult<<=8;this.tempResult|=b;0===this.remainingBytes&&(this.currentBuffer=null);this.tempCounter++}a=this.tempResult;this.tempResult=null;this.tempCounter=-1;return a};a.prototype.readString=function(a){this.tempString||(this.tempString="");-1===this.tempCounter&&(this.tempCounter=0);for(var b="";this.tempCounter<a;){if(!this.currentBuffer)return this.tempString+=
b,null;b+=String.fromCharCode(this.readByte());0>=this.remainingBytes&&(this.currentBuffer=null);this.tempCounter++}a=this.tempString+=b;this.tempString=null;this.tempCounter=-1;return a};a.prototype.readFloat=function(a){if(8===a){-1===this.tempCounter&&(this.tempCounter=0);null===this.tempResult&&(this.tempResult=0,this.tempFloat64.setFloat64(0,0));for(var b;this.tempCounter<a;){if(!this.currentBuffer)return null;b=this.readByte();this.tempFloat64.setUint8(this.tempCounter,b);0===this.remainingBytes&&
(this.currentBuffer=null);this.tempCounter++}this.tempResult=this.tempFloat64.getFloat64(0)}else if(4===a){-1===this.tempCounter&&(this.tempCounter=0);null===this.tempResult&&(this.tempResult=0,this.tempFloat32.setFloat32(0,0));for(;this.tempCounter<a;){if(!this.currentBuffer)return null;b=this.readByte();this.tempFloat32.setUint8(this.tempCounter,b);0===this.remainingBytes&&(this.currentBuffer=null);this.tempCounter++}this.tempResult=this.tempFloat32.getFloat32(0)}else throw"INVALID FLOAT LENGTH";
a=this.tempResult;this.tempResult=null;this.tempCounter=-1;return a};a.prototype.getBinary=function(a){if(this.usingBufferedRead&&null===this.tempCounter)throw"COUNTER WAS ERASED";if(this.remainingBytes>=a&&!this.usingBufferedRead){var b=this.currentBuffer.buffer.slice(this.internalPointer,this.internalPointer+a);this.incrementPointers(a);0===this.remainingBytes&&(this.currentBuffer=null);return b}if(!1===this.usingBufferedRead&&0<this.tempCounter)throw"INVALID BUFFERED READ";this.usingBufferedRead=
!0;this.tempBinaryBuffer||(this.tempBinaryBuffer=new Uint8Array(a));-1===this.tempCounter&&(this.tempCounter=0);for(var c;this.tempCounter<a;){if(!this.currentBuffer){if(!1===this.usingBufferedRead)throw"INVALID return  case";return null}b=a-this.tempCounter>this.remainingBytes?this.remainingBytes:a-this.tempCounter;c=new Uint8Array(this.currentBuffer.buffer,this.internalPointer,b);this.tempBinaryBuffer.set(c,this.tempCounter);this.incrementPointers(b);0===this.remainingBytes&&(this.currentBuffer=
null);this.tempCounter+=b}this.tempBinaryBuffer.byteLength!==a&&console.warn("invalid read");a=this.tempBinaryBuffer;this.tempBinaryBuffer=null;this.tempCounter=-1;this.usingBufferedRead=!1;return a.buffer};d.exports=a},function(d,a){a=function(a,e,d,b){this.id=a;this.size=e;this.offset=d;this.dataOffset=b;this.end=b+e;this.status=!0};a.prototype.init=function(a,e,d,b){this.id=a;this.size=e;this.offset=d;this.dataOffset=b;this.end=b+e;this.status=!0};a.prototype.reset=function(){this.status=!1};a.prototype.getData=
function(){return{id:this.id,size:this.size,offset:this.offset,dataOffset:this.dataOffset,end:this.end}};d.exports=a},function(d,a){d.exports=function(){}},function(d,a,c){var e=c(7);a=function(a,b){this.dataInterface=b;this.offset=a.offset;this.size=a.size;this.end=a.end;this.entries=[];this.entryCount=0;this.voidElements=[];this.voidElementCount=0;this.loaded=!1;this.currentElement=this.tempEntry=null};a.prototype.load=function(){for(var a=this.end;this.dataInterface.offset<a;){if(!this.currentElement&&
(this.currentElement=this.dataInterface.peekElement(),null===this.currentElement))return null;switch(this.currentElement.id){case 19899:this.tempEntry||(this.tempEntry=new e(this.currentElement,this.dataInterface));this.tempEntry.load();if(this.tempEntry.loaded)this.entries.push(this.tempEntry);else return;break;case 191:var b=this.dataInterface.getBinary(this.currentElement.size);if(null!==b)b;else return null;break;default:console.warn("Seek head element not found, skipping : "+this.currentElement.id.toString(16))}this.currentElement=
this.tempEntry=null}if(this.dataInterface.offset!==this.end)throw console.log(this),"INVALID SEEKHEAD FORMATTING";this.loaded=!0};d.exports=a},function(d,a){a=function(a,e){this.size=a.size;this.offset=a.offset;this.end=a.end;this.dataInterface=e;this.loaded=!1;this.currentElement=null;this.seekPosition=this.seekId=-1};a.prototype.load=function(){for(;this.dataInterface.offset<this.end;){if(!this.currentElement&&(this.currentElement=this.dataInterface.peekElement(),null===this.currentElement))return null;
switch(this.currentElement.id){case 21419:var a=this.dataInterface.readUnsignedInt(this.currentElement.size);if(null!==a)this.seekId=a;else return null;break;case 21420:a=this.dataInterface.readUnsignedInt(this.currentElement.size);if(null!==a)this.seekPosition=a;else return null;break;case 191:a=this.dataInterface.getBinary(this.currentElement.size);if(null!==a)a;else return null;break;default:console.warn("Seek element not found, skipping : "+this.currentElement.id.toString(16))}this.currentElement=
null}this.dataInterface.offset!==this.end&&console.error("Invalid Seek Formatting");this.loaded=!0};d.exports=a},function(d,a){a=function(a,e){this.dataInterface=e;this.offset=a.offset;this.size=a.size;this.end=a.end;this.dataOffset=this.title=this.writingApp=this.muxingApp=null;this.timecodeScale=1E6;this.duration=-1;this.loaded=!1;this.duration=this.segmentUID=null;this.dateUTC};a.prototype.load=function(){for(var a=this.end;this.dataInterface.offset<a;){if(!this.currentElement&&(this.currentElement=
this.dataInterface.peekElement(),null===this.currentElement))return null;switch(this.currentElement.id){case 2807729:var e=this.dataInterface.readUnsignedInt(this.currentElement.size);if(null!==e)this.timecodeScale=e;else return null;break;case 19840:e=this.dataInterface.readString(this.currentElement.size);if(null!==e)this.muxingApp=e;else return null;break;case 22337:e=this.dataInterface.readString(this.currentElement.size);if(null!==e)this.writingApp=e;else return null;break;case 31657:e=this.dataInterface.readString(this.currentElement.size);
if(null!==e)this.title=e;else return null;break;case 29604:e=this.dataInterface.readString(this.currentElement.size);if(null!==e)this.segmentUID=e;else return null;break;case 17545:e=this.dataInterface.readFloat(this.currentElement.size);if(null!==e)this.duration=e;else return null;break;case 17505:e=this.dataInterface.readDate(this.currentElement.size);if(null!==e)this.dateUTC=e;else return null;break;case 191:e=this.dataInterface.getBinary(this.currentElement.size);if(null!==e)e;else return null;
break;default:console.error("Ifno element not found, skipping : "+this.currentElement.id.toString(16))}this.currentElement=null}this.dataInterface.offset!==this.end&&console.error("Invalid SegmentInfo Formatting");this.loaded=!0};d.exports=a},function(d,a,c){var e=c(7);a=function(a,b,c){this.demuxer=c;this.dataInterface=b;this.offset=a.offset;this.size=a.size;this.end=a.end;this.trackEntries=[];this.loaded=!1;this.currentElement=this.tempEntry=null;this.trackLoader=new f};a.prototype.load=function(){for(;this.dataInterface.offset<
this.end;){if(!this.currentElement&&(this.currentElement=this.dataInterface.peekElement(),null===this.currentElement))return null;switch(this.currentElement.id){case 174:this.trackLoader.loading||this.trackLoader.init(this.currentElement,this.dataInterface);this.trackLoader.load();if(this.trackLoader.loaded)var a=this.trackLoader.getTrackEntry();else return;this.trackEntries.push(a);break;case 191:a=this.dataInterface.getBinary(this.currentElement.size);if(null!==a)a;else return null;break;default:console.warn("track element not found, skipping : "+
this.currentElement.id.toString(16))}this.currentElement=null}this.loaded=!0};a.prototype.loadTrackEntry=function(){this.tempEntry||(this.tempEntry=new e(this.currentElement,this.dataInterface))};var f=function(){this.end=this.size=this.offset=this.dataInterface=null;this.loading=this.loaded=!1;this.trackData={};this.trackData.trackNumber=null;this.trackData.trackType=null;this.trackData.name=null;this.trackData.codecName=null;this.trackData.defaultDuration=null;this.trackData.codecID=null;this.trackData.lacing=
null;this.trackData.codecPrivate=null;this.trackData.codecDelay=null;this.minCache=this.tempTrack=this.trackData.seekPreRoll=null};f.prototype.init=function(a,b){this.dataInterface=b;this.offset=a.offset;this.size=a.size;this.end=a.end;this.loaded=!1;this.loading=!0;this.trackData.trackNumber=null;this.trackData.trackType=null;this.trackData.name=null;this.trackData.codecName=null;this.trackData.defaultDuration=null;this.trackData.codecID=null;this.trackData.lacing=null;this.trackData.codecPrivate=
null;this.trackData.codecDelay=null;this.trackData.seekPreRoll=null;this.minCache=this.tempTrack=this.trackData.trackUID=null};f.prototype.load=function(){for(var a=this.end;this.dataInterface.offset<a;){if(!this.currentElement&&(this.currentElement=this.dataInterface.peekElement(),null===this.currentElement))return null;switch(this.currentElement.id){case 224:this.tempTrack||(this.tempTrack=new b(this.currentElement,this.dataInterface));this.tempTrack.load();if(!this.tempTrack.loaded)return;break;
case 225:this.tempTrack||(this.tempTrack=new g(this.currentElement,this.dataInterface));this.tempTrack.load();if(!this.tempTrack.loaded)return;break;case 215:var c=this.dataInterface.readUnsignedInt(this.currentElement.size);if(null!==c)this.trackData.trackNumber=c;else return null;break;case 131:c=this.dataInterface.readUnsignedInt(this.currentElement.size);if(null!==c)this.trackData.trackType=c;else return null;break;case 21358:c=this.dataInterface.readString(this.currentElement.size);if(null!==
c)this.trackData.name=c;else return null;break;case 2459272:c=this.dataInterface.readString(this.currentElement.size);if(null!==c)this.trackData.codecName=c;else return null;break;case 2274716:c=this.dataInterface.readString(this.currentElement.size);if(null!==c)this.trackData.language=c;else return null;break;case 2352003:c=this.dataInterface.readUnsignedInt(this.currentElement.size);if(null!==c)this.trackData.defaultDuration=c;else return null;break;case 134:c=this.dataInterface.readString(this.currentElement.size);
if(null!==c)this.trackData.codecID=c;else return null;break;case 156:c=this.dataInterface.readUnsignedInt(this.currentElement.size);if(null!==c)this.trackData.lacing=c;else return null;break;case 25506:c=this.dataInterface.getBinary(this.currentElement.size);if(null!==c)this.trackData.codecPrivate=c;else return null;break;case 22186:c=this.dataInterface.readUnsignedInt(this.currentElement.size);if(null!==c)this.trackData.codecDelay=c;else return null;break;case 22203:c=this.dataInterface.readUnsignedInt(this.currentElement.size);
if(null!==c)this.trackData.seekPreRoll=c;else return null;break;case 29637:c=this.dataInterface.readUnsignedInt(this.currentElement.size);if(null!==c)this.trackData.trackUID=c;else return null;break;case 28135:c=this.dataInterface.readUnsignedInt(this.currentElement.size);if(null!==c)this.trackData.minCache=c;else return null;break;case 191:c=this.dataInterface.getBinary(this.currentElement.size);if(null!==c)c;else return null;break;default:console.warn("track data element not found, skipping : "+
this.currentElement.id.toString(16))}this.currentElement=null}this.loaded=!0};f.prototype.getTrackEntry=function(){this.tempTrack.loadMeta(this.trackData);var a=this.tempTrack;this.tempTrack=null;this.loading=!1;return a};c=function(){};c.prototype.loadMeta=function(a){for(var c in a)this[c]=a[c]};var b=function(a,c){this.dataInterface=c;this.offset=a.offset;this.size=a.size;this.end=a.end;this.loaded=!1;this.displayHeight=this.displayWidth=this.height=this.width=null;this.displayUnit=0;this.frameRate=
this.stereoMode=null;this.pixelCropRight=this.pixelCropLeft=this.pixelCropTop=this.pixelCropBottom=0};$jscomp.inherits(b,c);b.prototype.load=function(){for(;this.dataInterface.offset<this.end;){if(!this.currentElement&&(this.currentElement=this.dataInterface.peekElement(),null===this.currentElement))return null;switch(this.currentElement.id){case 176:var a=this.dataInterface.readUnsignedInt(this.currentElement.size);if(null!==a)this.width=a;else return null;break;case 186:a=this.dataInterface.readUnsignedInt(this.currentElement.size);
if(null!==a)this.height=a;else return null;break;case 21680:a=this.dataInterface.readUnsignedInt(this.currentElement.size);if(null!==a)this.displayWidth=a;else return null;break;case 21690:a=this.dataInterface.readUnsignedInt(this.currentElement.size);if(null!==a)this.displayHeight=a;else return null;break;case 21682:a=this.dataInterface.readUnsignedInt(this.currentElement.size);if(null!==a)this.displayUnit=a;else return null;break;case 21432:a=this.dataInterface.readUnsignedInt(this.currentElement.size);
if(null!==a)this.stereoMode=a;else return null;break;case 2327523:a=this.dataInterface.readUnsignedInt(this.currentElement.size);if(null!==a)this.frameRate=a;else return null;break;case 21936:console.error("NO COLOR LOADING YET");default:console.warn("Info element not found, skipping: "+this.currentElement.id.toFixed(16))}this.currentElement=null}this.displayWidth||(this.displayWidth=this.width-this.pixelCropLeft);this.displayHeight||(this.displayHeight=this.height-this.pixelCropTop);this.loaded=
!0};var g=function(a,c){this.dataInterface=c;this.offset=a.offset;this.size=a.size;this.end=a.end;this.loaded=!1;this.bitDepth=this.channel=this.rate=null};$jscomp.inherits(g,c);g.prototype.load=function(){for(;this.dataInterface.offset<this.end;){if(!this.currentElement&&(this.currentElement=this.dataInterface.peekElement(),null===this.currentElement))return null;switch(this.currentElement.id){case 181:var a=this.dataInterface.readFloat(this.currentElement.size);if(null!==a)this.rate=a;else return null;
break;case 159:a=this.dataInterface.readUnsignedInt(this.currentElement.size);if(null!==a)this.channels=a;else return null;break;case 25188:a=this.dataInterface.readUnsignedInt(this.currentElement.size);if(null!==a)this.bitDepth=a;else return null;break;default:console.warn("Ifno element not found, skipping")}this.currentElement=null}this.loaded=!0};d.exports=a},function(d,a,c){var e=c(4),f=c(11),b=c(12);a=function(a,c,b,d,l,k){this.demuxer=k;this.dataInterface=l;this.offset=a;this.size=c;this.end=
b;this.dataOffset=d;this.loaded=!1;this.position=this.tempBlock=this.timeCode=this.currentElement=this.tempEntry=null;this.tempElementHeader=new e(-1,-1,-1,-1);this.tempElementHeader.reset();this.tempBlock=new f;this.blockGroups=[];return!0};a.prototype.init=function(){};a.prototype.reset=function(){};a.prototype.load=function(){for(;this.dataInterface.offset<this.end;){if(!this.tempElementHeader.status&&(this.dataInterface.peekAndSetElement(this.tempElementHeader),!this.tempElementHeader.status))return null;
switch(this.tempElementHeader.id){case 231:var a=this.dataInterface.readUnsignedInt(this.tempElementHeader.size);if(null!==a)this.timeCode=a;else return null;break;case 163:this.tempBlock.status||this.tempBlock.init(this.tempElementHeader.offset,this.tempElementHeader.size,this.tempElementHeader.end,this.tempElementHeader.dataOffset,this.dataInterface,this);this.tempBlock.load();if(!this.tempBlock.loaded)return 0;this.tempBlock.reset();this.tempEntry=null;this.tempElementHeader.reset();if(this.dataInterface.offset!==
this.end)return!0;break;case 167:a=this.dataInterface.readUnsignedInt(this.tempElementHeader.size);if(null!==a)this.timeCode=a;else return null;break;case 160:this.currentBlockGroup||(this.currentBlockGroup=new b(this.tempElementHeader.getData(),this.dataInterface));this.currentBlockGroup.load();if(!this.currentBlockGroup.loaded)return!1;this.blockGroups.push(this.currentTag);this.currentBlockGroup=null;break;case 171:a=this.dataInterface.readUnsignedInt(this.tempElementHeader.size);if(null!==a)this.prevSize=
a;else return null;break;default:throw console.warn("cluster data element not found, skipping : "+this.tempElementHeader.id.toString(16)),"cluster";}this.tempEntry=null;this.tempElementHeader.reset()}this.loaded=!0;return!1};d.exports=a},function(d,a){a=function(){this.cluster;this.dataInterface;this.offset;this.dataOffset;this.size;this.end;this.loaded=!1;this.trackNumber=null;this.timeCode=-1;this.flags=null;this.invisible=this.keyframe=!1;this.lacing=0;this.discardable=!1;this.headerSize=this.lacedFrameCount=
null;this.frameSizes=[];this.frameLength=this.track=this.tempFrame=this.tempCounter=null;this.isLaced=!1;this.stop=null;this.status=!1;this.ebmlLacedSizes=[];this.ebmlParsedSizes=[];this.ebmlLacedSizesParsed=!1};a.prototype.init=function(a,e,d,b,g,h){this.cluster=h;this.dataInterface=g;this.offset=a;this.dataOffset=b;this.size=e;this.end=d;this.loaded=!1;this.flags=this.timeCode=this.trackNumber=null;this.invisible=this.keyframe=!1;this.lacing=0;this.discardable=!1;this.headerSize=this.lacedFrameCount=
null;this.frameSizes=[];this.frameLength=this.track=this.tempFrame=this.tempCounter=null;this.isLaced=!1;this.stop=this.offset+this.size;this.status=!0;this.trackEntries=this.cluster.demuxer.tracks.trackEntries;this.videoPackets=this.cluster.demuxer.videoPackets;this.audioPackets=this.cluster.demuxer.audioPackets;this.lacedFrameHeaderSize=this.laceFrameHelper=null;this.ebmlLacedSizes=[];this.firstLacedFrameSize=this.fixedFrameLength=this.lacedFrameDataSize=null;this.ebmlParsedSizes=[];this.ebmlLacedSizesParsed=
!1};a.prototype.reset=function(){this.status=!1};a.prototype.loadTrack=function(){this.track=this.trackEntries[this.trackNumber-1]};a.prototype.load=function(){var a=this.dataInterface;if(this.loaded)throw"ALREADY LOADED";if(null===this.trackNumber){this.trackNumber=a.readVint();if(null===this.trackNumber)return null;this.loadTrack()}if(null===this.timeCode&&(this.timeCode=a.readUnsignedInt(2),null===this.timeCode))return null;if(null===this.flags){this.flags=a.readUnsignedInt(1);if(null===this.flags)return null;
this.keyframe=0===(this.flags>>7&1)?!1:!0;this.invisible=0===(this.flags>>2&1)?!1:!0;this.lacing=(this.flags&6)>>1;if(3<this.lacing||0>this.lacing)throw"INVALID LACING";}this.headerSize||(this.headerSize=a.offset-this.dataOffset);switch(this.lacing){case 2:if(!this.frameLength&&(this.frameLength=this.size-this.headerSize,0>=this.frameLength))throw"INVALID FRAME LENGTH "+this.frameLength;if(!this.lacedFrameCount){this.lacedFrameCount=a.readUnsignedInt(1);if(null===this.lacedFrameCount)return null;
this.lacedFrameCount++}var e=a.getBinary(this.frameLength-1);if(null===e){if(!1===a.usingBufferedRead)throw"SHOULD BE BUFFERED READ";return null}this.fixedFrameLength=(this.frameLength-1)/this.lacedFrameCount;var d=this.timeCode+this.cluster.timeCode,b=d/1E3;if(0>b)throw"INVALID TIMESTAMP";for(d=0;d<this.lacedFrameCount;d++)1===this.track.trackType?this.videoPackets.push({data:e.slice(d*this.fixedFrameLength,d*this.fixedFrameLength+this.fixedFrameLength),timestamp:b,keyframeTimestamp:b,isKeyframe:this.keyFrame}):
2===this.track.trackType&&this.audioPackets.push({data:e.slice(d*this.fixedFrameLength,d*this.fixedFrameLength+this.fixedFrameLength),timestamp:b});break;case 3:if(!this.frameLength&&(this.frameLength=this.size-this.headerSize,0>=this.frameLength))throw"INVALID FRAME LENGTH "+this.frameLength;if(!this.lacedFrameCount){this.lacedFrameCount=a.readUnsignedInt(1);if(null===this.lacedFrameCount)return null;this.lacedFrameCount++}if(!this.firstLacedFrameSize)if(e=this.dataInterface.readVint(),null!==e)this.firstLacedFrameSize=
e,this.ebmlLacedSizes.push(this.firstLacedFrameSize);else return null;this.tempCounter||(this.tempCounter=0);for(;this.tempCounter<this.lacedFrameCount-1;){e=a.readLacingSize();if(null===e)return null;this.ebmlLacedSizes.push(e);this.tempCounter++}if(!this.ebmlLacedSizesParsed){this.ebmlParsedSizes[0]=this.ebmlLacedSizes[0];e=this.ebmlParsedSizes[0];for(d=1;d<this.lacedFrameCount-1;d++)this.ebmlParsedSizes[d]=this.ebmlLacedSizes[d]+this.ebmlParsedSizes[d-1],e+=this.ebmlParsedSizes[d];this.lacedFrameDataSize||
(this.lacedFrameDataSize=this.end-a.offset);d=this.lacedFrameDataSize-e;this.ebmlParsedSizes.push(d);this.ebmlLacedSizesParsed=!0;this.ebmlTotalSize=e+d}e=a.getBinary(this.lacedFrameDataSize);if(null===e)return null;d=this.timeCode+this.cluster.timeCode;b=d/1E3;if(0>b)throw"INVALID TIMESTAMP";for(var g=0,h=this.ebmlParsedSizes[0],d=0;d<this.lacedFrameCount;d++)1===this.track.trackType?this.videoPackets.push({data:e.slice(g,h),timestamp:b,keyframeTimestamp:b,isKeyframe:this.keyFrame}):2===this.track.trackType&&
this.audioPackets.push({data:e.slice(g,h),timestamp:b}),g+=this.ebmlParsedSizes[d],h+=this.ebmlParsedSizes[d],d===this.lacedFrameCount-1&&(h=null);this.tempCounter=null;break;case 1:case 0:3===this.lacing&&console.warn("EBML_LACING");1===this.lacing&&console.warn("XIPH_LACING");if(!this.frameLength&&(this.frameLength=this.size-this.headerSize,0>=this.frameLength))throw"INVALID FRAME LENGTH "+this.frameLength;e=a.getBinary(this.frameLength);if(null===e){if(!1===a.usingBufferedRead)throw"SHOULD BE BUFFERED READ";
return null}if(!0===a.usingBufferedRead)throw"SHOULD NOT BE BUFFERED READ";if(e.byteLength!==this.frameLength)throw"INVALID FRAME";d=this.timeCode+this.cluster.timeCode;b=d/1E3;if(0>b)throw"INVALID TIMESTAMP";1===this.track.trackType?this.videoPackets.push({data:e,timestamp:b,keyframeTimestamp:b,isKeyframe:!0}):2===this.track.trackType&&this.audioPackets.push({data:e,timestamp:b});break;default:throw console.log(this),console.warn("LACED ELEMENT FOUND"),"STOP HERE";}if(this.end!==a.offset)throw console.error(this),
"INVALID BLOCK SIZE";this.loaded=!0;this.frameLength=this.tempCounter=this.tempFrame=this.headerSize=null};d.exports=a},function(d,a){a=function(a,d){this.dataInterface=d;this.offset=a.offset;this.size=a.size;this.end=a.end;this.loaded=!1;this.currentElement=this.tempElement=null};a.prototype.load=function(){for(var a=this.end;this.dataInterface.offset<a;){if(!this.currentElement&&(this.currentElement=this.dataInterface.peekElement(),null===this.currentElement))return null;switch(this.currentElement.id){case 161:var d=
this.dataInterface.getBinary(this.currentElement.size);if(null!==d)d;else return null;break;case 155:d=this.dataInterface.readUnsignedInt(this.currentElement.size);if(null!==d)this.blockDuration=d;else return null;break;case 251:d=this.dataInterface.readSignedInt(this.currentElement.size);if(null!==d)this.referenceBlock=d;else return null;break;default:console.warn("block group element not found, skipping "+this.currentElement.id.toString(16))}this.currentElement=null}this.loaded=!0};d.exports=a},
function(d,a,c){var e=c(14);a=function(a,c,d){this.dataInterface=c;this.offset=a.offset;this.size=a.size;this.end=a.end;this.entries=[];this.loaded=!1;this.tempEntry=null;this.demuxer=d;this.currentElement=null};a.prototype.load=function(){for(var a=this.end;this.dataInterface.offset<a;){if(!this.currentElement&&(this.currentElement=this.dataInterface.peekElement(),null===this.currentElement))return null;switch(this.currentElement.id){case 187:this.tempEntry||(this.tempEntry=new f(this.currentElement,
this.dataInterface));this.tempEntry.load();if(this.tempEntry.loaded)this.entries.push(this.tempEntry);else return;break;case 191:var c=this.dataInterface.getBinary(this.currentElement.size);if(null!==c)c;else return null;break;default:console.warn("Cue Head element not found "+this.currentElement.id.toString(16))}this.currentElement=this.tempEntry=null}if(this.dataInterface.offset!==this.end)throw console.log(this),"INVALID CUE FORMATTING";this.loaded=!0};a.prototype.getCount=function(){return this.cuePoints.length};
a.prototype.init=function(){};a.prototype.preloadCuePoint=function(){};a.prototype.find=function(){};a.prototype.getFirst=function(){};a.prototype.getLast=function(){};a.prototype.getNext=function(){};a.prototype.getBlock=function(){};a.prototype.findOrPreloadCluster=function(){};var f=function(a,c){this.dataInterface=c;this.offset=a.offset;this.size=a.size;this.end=a.end;this.loaded=!1;this.cueTrackPositions=this.cueTime=this.currentElement=this.tempElement=null};f.prototype.load=function(){for(var a=
this.end;this.dataInterface.offset<a;){if(!this.currentElement&&(this.currentElement=this.dataInterface.peekElement(),null===this.currentElement))return null;switch(this.currentElement.id){case 183:this.cueTrackPositions||(this.cueTrackPositions=new e(this.currentElement,this.dataInterface));this.cueTrackPositions.load();if(!this.cueTrackPositions.loaded)return;break;case 179:var c=this.dataInterface.readUnsignedInt(this.currentElement.size);if(null!==c)this.cueTime=c;else return null;break;default:console.warn("Cue Point not found, skipping")}this.currentElement=
null}this.loaded=!0};d.exports=a},function(d,a){a=function(a,d){this.dataInterface=d;this.offset=a.offset;this.size=a.size;this.end=a.end;this.loaded=!1;this.cueTrack=this.currentElement=this.tempElement=null;this.cueRelativePosition=this.cueClusterPosition=0};a.prototype.load=function(){for(;this.dataInterface.offset<this.end;){if(!this.currentElement&&(this.currentElement=this.dataInterface.peekElement(),null===this.currentElement))return null;switch(this.currentElement.id){case 247:var a=this.dataInterface.readUnsignedInt(this.currentElement.size);
if(null!==a)this.cueTrack=a;else return null;break;case 241:a=this.dataInterface.readUnsignedInt(this.currentElement.size);if(null!==a)this.cueClusterPosition=a;else return null;break;case 240:a=this.dataInterface.readUnsignedInt(this.currentElement.size);if(null!==a)this.cueRelativePosition=a;else return null;break;default:console.warn("Cue track positions not found! "+this.currentElement.id)}this.currentElement=null}this.dataInterface.offset!==this.end&&console.error("Invalid Seek Formatting");
this.loaded=!0};d.exports=a},function(d,a,c){var e=c(16);a=function(a,b){this.dataInterface=b;this.offset=a.offset;this.size=a.size;this.end=a.end;this.entries=[];this.loaded=!1;this.currentTag=this.currentElement=this.tempEntry=null;this.tags=[]};a.prototype.load=function(){for(var a=this.end;this.dataInterface.offset<a;){if(!this.currentElement&&(this.currentElement=this.dataInterface.peekElement(),null===this.currentElement))return null;switch(this.currentElement.id){case 29555:this.currentTag||
(this.currentTag=new e(this.currentElement.getData(),this.dataInterface));this.currentTag.load();if(!this.currentTag.loaded)return!1;this.tags.push(this.currentTag);this.currentTag=null;break;case 191:var b=this.dataInterface.getBinary(this.currentElement.size);if(null!==b)b;else return null;break;default:if(this.dataInterface.peekBytes(this.currentElement.size))this.dataInterface.skipBytes(this.currentElement.size);else return!1;console.warn("tags element not found, skipping"+this.currentElement.id.toString(16))}this.currentElement=
null}this.loaded=!0};d.exports=a},function(d,a,c){var e=c(17),f=c(18);a=function(a,c,d){this.dataInterface=c;this.offset=a.offset;this.size=a.size;this.end=a.end;this.entries=[];this.loaded=!1;this.tempEntry=null;this.demuxer=d;this.currentElement=null;this.targets=[];this.simpleTags=[]};a.prototype.load=function(){for(var a=this.end;this.dataInterface.offset<a;){if(!this.currentElement&&(this.currentElement=this.dataInterface.peekElement(),null===this.currentElement))return null;switch(this.currentElement.id){case 25536:this.tempEntry||
(this.tempEntry=new e(this.currentElement,this.dataInterface));this.tempEntry.load();if(!this.tempEntry.loaded)return null;this.targets.push(this.tempEntry);this.tempEntry=null;break;case 26568:this.tempEntry||(this.tempEntry=new f(this.currentElement,this.dataInterface));this.tempEntry.load();if(!this.tempEntry.loaded)return null;this.simpleTags.push(this.tempEntry);this.tempEntry=null;break;default:if(this.dataInterface.peekBytes(this.currentElement.size))this.dataInterface.skipBytes(this.currentElement.size);
else return!1;console.warn("tag element not found: "+this.currentElement.id.toString(16))}this.currentElement=this.tempEntry=null}if(this.dataInterface.offset!==this.end)throw console.log(this),"INVALID CUE FORMATTING";this.loaded=!0};d.exports=a},function(d,a){a=function(a,d){this.dataInterface=d;this.offset=a.offset;this.size=a.size;this.end=a.end;this.loaded=!1;this.cueTrack=this.currentElement=this.tempElement=null;this.cueRelativePosition=this.cueClusterPosition=0};a.prototype.load=function(){for(;this.dataInterface.offset<
this.end;){if(!this.currentElement&&(this.currentElement=this.dataInterface.peekElement(),null===this.currentElement))return null;if(this.dataInterface.peekBytes(this.currentElement.size))this.dataInterface.skipBytes(this.currentElement.size);else return!1;console.warn("targets element not found ! : "+this.currentElement.id.toString(16));this.currentElement=null}this.dataInterface.offset!==this.end&&console.error("Invalid Targets Formatting");this.loaded=!0};d.exports=a},function(d,a){a=function(a,
d){this.dataInterface=d;this.offset=a.offset;this.size=a.size;this.end=a.end;this.loaded=!1;this.cueTrack=this.currentElement=this.tempElement=null;this.cueRelativePosition=this.cueClusterPosition=0;this.tagString=this.tagName=null};a.prototype.load=function(){for(;this.dataInterface.offset<this.end;){if(!this.currentElement&&(this.currentElement=this.dataInterface.peekElement(),null===this.currentElement))return null;switch(this.currentElement.id){case 17827:var a=this.dataInterface.readString(this.currentElement.size);
if(null!==a)this.tagName=a;else return null;break;case 17543:a=this.dataInterface.readString(this.currentElement.size);if(null!==a)this.tagString=a;else return null;break;default:if(this.dataInterface.peekBytes(this.currentElement.size))this.dataInterface.skipBytes(this.currentElement.size);else return!1;console.warn("simple tag element not found ! : "+this.currentElement.id.toString(16))}this.currentElement=null}this.dataInterface.offset!==this.end&&console.error("Invalid Targets Formatting");this.loaded=
!0};d.exports=a}]);